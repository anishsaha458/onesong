# requirements.txt — OneSong API v4.4
# All packages have pre-built manylinux wheels for Python 3.11 on Linux x86_64.
# Render installs these; the render.yaml buildCommand handles ffmpeg via apt-get.
#
# essentia is intentionally OMITTED here — it's installed separately in
# render.yaml with a || true fallback so a missing wheel doesn't block deploy.
# If you're running locally with essentia installed, add it back manually.

fastapi==0.111.0
uvicorn[standard]==0.29.0
PyJWT==2.8.0
bcrypt==4.1.3
python-multipart==0.0.9
httpx==0.27.0
psycopg2-binary==2.9.9

# numpy: MUST be 1.x — essentia 2.1b6 is not compatible with numpy 2.x.
# 1.26.4 is the last 1.x release; use the manylinux wheel (no compilation).
numpy==1.26.4

# yt-dlp: pip-installed so it's available as both a Python module and a
# console-script on PATH (required by subprocess calls in main.py).
yt-dlp==2024.5.27

email-validator==2.1.1
pydantic[email]==2.7.1